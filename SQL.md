# SQLを書くときに守ること<br>（正確無比なクエリに近道なし！！！）
BigQuery編

## ■ 前提を疑う
- テーブル定義書が正しいか確認する
- レコード数を確認する
- ヒアリングした情報が正しいか確認する

## ■ 自信を持たない、過信しない
- 集計を複数伴う場合は一気に書かない
- サブクエリ単位で、検証した値を継承しながら組み立てる

## ■ SELECT
- 文字列の'NULL'は、最下位のサブクエリでNULLに
- 集計を伴わない AS 別名(ALIAS) は最下位のサブクエリで
- UNION ALLするときは、並び順を丁寧に
- 汎用的なカテゴライズロジックはマスタ化しよう
- 定番のサブクエリはVIEWにしよう
- GREATEST, LEASTはNULL値に注意

## ■ WHERE
- AND, OR, (), !=, NOT は図を描こう
- データ型に注意しよう

## ■ JOIN, LEFT OUTEER JOIN
- 結合キーはこれでもかというくらい確認しよう
- モニタリング向けの独自マスタを使うときは必ず外部結合に
- ３回以上登場するサブクエリはWITH句にしよう
- 母数の絞込み目的のINNER JOINは、わかりやすい別名に

## ■ GROUP BY
-

## ■ HAVING
-

## ■ ORDER BY
- レコード数に気をつけよう
